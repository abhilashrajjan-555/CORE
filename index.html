<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C.O.R.E. Workflow Console</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="assets/styles.css" />
</head>

<body>
  <header class="app-header">
    <div class="header-title">
      <h1>C.O.R.E. Workflow</h1>
      <p>Capture Â· Organize Â· Review Â· Engage</p>
    </div>
    <nav class="tab-navigation">
      <button class="tab-btn active" data-tab="engage" aria-label="Engage - Execute tasks">
        ðŸŽ¯ Engage
      </button>
      <button class="tab-btn" data-tab="capture" aria-label="Capture - Add new items">
        ðŸ“¥ Capture
      </button>
      <button class="tab-btn" data-tab="organize" aria-label="Organize - Process inbox">
        ðŸ“‚ Organize
        <span class="tab-badge" id="organize-badge" style="display: none;">0</span>
      </button>
      <button class="tab-btn" data-tab="review" aria-label="Review - Daily and weekly rituals">
        ðŸ“Š Review
      </button>
    </nav>
    <div class="header-actions">
      <button id="export-data" title="Export data to JSON">Export JSON</button>
      <label class="import-label" title="Import data from JSON">
        Import JSON
        <input type="file" id="import-data" accept="application/json" />
      </label>
    </div>
  </header>

  <main class="panels">
    <section class="panel" id="capture-panel" data-panel="capture">
      <div class="panel-header">
        <h2>Capture</h2>
        <p>Quick capture anything</p>
      </div>
      <form id="capture-form">
        <!-- Essential Fields -->
        <div class="field">
          <label for="entry-title">Title</label>
          <input id="entry-title" name="title" placeholder="What needs capturing?" required />
        </div>
        <div class="field">
          <label for="entry-type">Type</label>
          <select id="entry-type" name="type">
            <option value="task">Task</option>
            <option value="idea">Idea</option>
            <option value="note">Note</option>
            <option value="media">Media</option>
          </select>
        </div>
        <div class="field">
          <label for="entry-body">Details</label>
          <textarea id="entry-body" name="body" rows="3" placeholder="Quick notes..."></textarea>
        </div>

        <!-- Advanced Fields (Collapsible) -->
        <button type="button" id="toggle-advanced" class="toggle-btn">
          <span id="toggle-icon">â–¶</span> Advanced Options
        </button>
        <div id="advanced-fields" class="advanced-fields" style="display: none;">
          <div class="field split">
            <div>
              <label for="entry-due">Due</label>
              <input type="date" id="entry-due" name="due" />
            </div>
            <div>
              <label for="entry-effort">Est. mins</label>
              <input type="number" id="entry-effort" name="effort" min="1" />
            </div>
            <div>
              <label for="entry-energy">Energy</label>
              <select id="entry-energy" name="energy">
                <option value="medium">Medium</option>
                <option value="high">High</option>
                <option value="low">Low</option>
              </select>
            </div>
          </div>
          <div class="field split">
            <div>
              <label for="entry-area">Area</label>
              <select id="entry-area" name="area"></select>
            </div>
            <div>
              <label for="entry-project">Project</label>
              <select id="entry-project" name="project"></select>
            </div>
          </div>
          <div class="field">
            <label for="entry-tags">Tags (comma separated)</label>
            <input id="entry-tags" name="tags" placeholder="meeting, follow-up" />
          </div>
          <div class="field">
            <label for="entry-next-action">Next Action</label>
            <input id="entry-next-action" name="nextAction" placeholder="Verb + object" />
          </div>
        </div>

        <button type="submit" class="primary">Capture</button>
      </form>
    </section>

    <section class="panel" id="organize-panel" data-panel="organize">
      <div class="panel-header">
        <h2>Organize</h2>
        <p>Process & categorize</p>
      </div>

      <div class="panel-subsection">
        <h3>Inbox</h3>
        <div id="inbox-list" class="card-list"></div>
      </div>

      <div class="panel-subsection para-tree" id="para-tree"></div>

      <div class="panel-subsection">
        <h3>Context Filters</h3>
        <div class="filters">
          <button data-filter="all" class="active">All</button>
          <button data-filter="task">Tasks</button>
          <button data-filter="idea">Ideas</button>
          <button data-filter="note">Notes</button>
          <button data-filter="media">Media</button>
        </div>
        <div class="search-container">
          <input
            type="text"
            id="search-input"
            class="search-input"
            placeholder="Search items..."
            aria-label="Search items by title or tags"
          />
        </div>
        <div id="organized-list" class="card-list"></div>
      </div>
    </section>

    <section class="panel" id="review-panel" data-panel="review">
      <div class="panel-header">
        <h2>Review</h2>
        <p>Reflect & plan</p>
      </div>
      <div class="panel-subsection">
        <div class="ritual-header">
          <h3>Daily Focus</h3>
          <button id="complete-daily">Mark Done</button>
        </div>
        <div id="daily-review" class="card-list"></div>
      </div>
      <div class="panel-subsection">
        <div class="ritual-header">
          <h3>Weekly Radar</h3>
          <button id="complete-weekly">Mark Done</button>
        </div>
        <div id="weekly-review" class="card-list"></div>
      </div>
    </section>

    <section class="panel" id="engage-panel" data-panel="engage">
      <div class="panel-header">
        <h2>Engage</h2>
        <p>Execute & do</p>
      </div>

      <div class="panel-subsection">
        <h3>Today's Focus</h3>
        <div id="today-focus" class="focus-area">
          <div class="focus-item" id="current-focus">
            <p class="focus-label">No active focus</p>
            <button id="pick-focus" class="primary">Pick a Task</button>
          </div>
        </div>
      </div>

      <div class="panel-subsection">
        <h3>Up Next</h3>
        <div id="next-actions" class="card-list"></div>
      </div>

      <div class="panel-subsection">
        <h3>Completed Today</h3>
        <div id="completed-today" class="card-list"></div>
      </div>
    </section>
  </main>

  <template id="object-card-template">
    <article class="object-card">
      <div class="card-meta">
        <span class="pill type-pill"></span>
        <span class="pill status-pill"></span>
      </div>
      <h4 class="object-title"></h4>
      <p class="object-body"></p>
      <dl class="object-details"></dl>
      <div class="card-actions"></div>
    </article>
  </template>

  <script type="module" src="assets/app.js"></script>
</body>

</html>